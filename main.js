(()=>{"use strict";class e{static registeredPopovers=new Map;static registeredResizeEvents=new Map;static call(e){const t=e.target;this.registeredPopovers.has(t)?this.removePopover(t):this.addPopover(t)}static removePopover(e){this.registeredPopovers.get(e).remove(),this.registeredPopovers.delete(e);const t=this.registeredResizeEvents.get(e);window.removeEventListener("resize",t),this.registeredResizeEvents.delete(e)}static addPopover(e){const t=document.createElement("div");t.style.position="absolute";let{position:s,title:i,content:o}=e.dataset;if(!o||!i)throw new Error("There should be title and content for Popover");s||(s="top"),t.classList.add("popover"),t.innerHTML=`${i?`<div class="popover-title">${i}</div>`:""}<div class="popover-content">${o}</div>`,document.body.appendChild(t),t.style.opacity="0",t.setAttribute("data-position",s),setTimeout((()=>{const{top:i,left:o}=this.getPopoverPosition(e,t,s);t.style.top=i,t.style.left=o,t.style.opacity="1"})),this.registeredPopovers.set(e,t),this.registerOnResizeListener(e,t,s)}static registerOnResizeListener(e,t,s){const i=()=>{const{top:i,left:o}=this.getPopoverPosition(e,t,s);t.style.top=i,t.style.left=o,t.style.opacity="1"};window.addEventListener("resize",i),this.registeredResizeEvents.set(e,i)}static getPopoverPosition(e,t,s){const i=e.getBoundingClientRect(),o=t.getBoundingClientRect();let r,n;switch(s){case"left":r=`${i.y+(i.height-o.height)/2}px`,n=i.x-o.width-10+"px";break;case"right":r=`${i.y+(i.height-o.height)/2}px`,n=`${i.x+i.width+10}px`;break;case"bottom":r=`${i.y+i.height+10}px`,n=`${i.x+(i.width-o.width)/2}px`;break;default:r=i.y-o.height-10+"px",n=`${i.x+(i.width-o.width)/2}px`}return{top:r,left:n}}}document.querySelectorAll("button").forEach((t=>{t.addEventListener("click",(t=>{e.call(t)}))}))})();